{"componentChunkName":"component---src-templates-post-post-js","path":"/post/i10snupyf3k","result":{"data":{"microcmsPosts":{"postsId":"i10snupyf3k","localImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#f8f8f8","images":{"fallback":{"src":"/static/860bbefa162afa665ae4830d69980bf2/b5380/og_image.png","srcSet":"/static/860bbefa162afa665ae4830d69980bf2/5b584/og_image.png 750w,\n/static/860bbefa162afa665ae4830d69980bf2/c1f05/og_image.png 1080w,\n/static/860bbefa162afa665ae4830d69980bf2/b5380/og_image.png 1200w","sizes":"100vw"},"sources":[{"srcSet":"/static/860bbefa162afa665ae4830d69980bf2/73e0d/og_image.webp 750w,\n/static/860bbefa162afa665ae4830d69980bf2/9fede/og_image.webp 1080w,\n/static/860bbefa162afa665ae4830d69980bf2/81547/og_image.webp 1200w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.525}}},"title":"2 最初のポスト","publishedAt":"2021-05-04T08:49:56.073Z","revisedAt":"2021-05-31T05:19:05.251Z","childProcessedBody":{"body":"<h1 id=\"h4c0250f42d\">最初のポストの見出し１です</h1><p><br></p><h2 id=\"h71c8fa2b45\">見出し２−１</h2><p><br></p><h2 id=\"he5ec1b66f1\">見出し２−２</h2><p>見出し２−２の本文<br></p><h2 id=\"hbf51285e19\">これはねこです</h2><p>何食わぬ顔をしています。キーボードの上なのですが。<br><img src=\"https://images.microcms-assets.io/protected/ap-northeast-1:c9c7e538-865e-40b9-963a-b9583e2c6906/service/momio/media/IMGP7444.jpg\" alt=\"\"><br></p><h1 id=\"h6aad7d63ec\">見出し１</h1><p>段落<br><strong>強調です。</strong><em>斜体です。</em><u>下線です。</u><s>取り消し線です。</s><code>インラインコードです</code><span style=\"background-color:#d6e693\">背景色を変えました。</span><span style=\"color:#009250\">文字色を変えました。</span></p><p style=\"text-align:center\">中央寄せ</p><p style=\"text-align:right\">右寄せ</p><p style=\"text-align:justify\">均等割付け「けれですくらいを出るから切らたをは危く充たすですたて、いろいろにもすれたましたたろ。ろをあるた事は同じく事実にいかになあるた。近頃大森さんを意味人ますます意味にやっだ坊ちゃんその底私か随行がというご解釈たうでなて、どんな今は私か一つ時代を起らと、岡田さんののに人情の私がようやく今ろかと妨げて私珍がご修養で知らように同時にご記念で聴こでしたば、もしとうとう意見を積んですていない気にするんまい。またはまたご金力がありがたがっものもこう高等というたて、どんな西洋がもしでてという錐を上りてかかるないです。」</p><p style=\"text-align:justify\"><br></p><h2 id=\"h09c73c8cc0\">見出し２</h2><p>あああ</p><h3 id=\"hc3ac443ef2\"><br>見出し３</h3><p>いいい</p><h4 id=\"h0f52d4725a\">見出し４</h4><p>見出し３の段落直下に空行を開けずに書いています。</p><h5 id=\"h0711a8707f\">見出し５</h5><p>見出し４の段落直下に空行を開けずに書いています。<br></p><blockquote>これは引用です。<br>けれですくらいを出るから切らたをは危く充たすですたて、いろいろにもすれたましたたろ。ろをあるた事は同じく事実にいかになあるた。近頃大森さんを意味人ますます意味にやっだ坊ちゃんその底私か随行がというご解釈たうでなて</blockquote><p><br></p><ol><li>番号付きリスト</li><li>いろいろにもすれたましたたろ。ろをあるた事は同じく事実にいかになあるた。近頃大森さんを意味人ますます意味にやっだ坊ちゃんその底私か随行がというご解釈たうでなて</li><li>↑は改行するほど長い文を想定</li></ol><p><br></p><ul><li>リスト</li><li>いろいろにもすれたましたたろ。ろをあるた事は同じく事実にいかになあるた。近頃大森さんを意味人ますます意味にやっだ坊ちゃんその底私か随行がというご解釈たうでなて</li><li>↑は改行するほど長い文を想定</li></ul><p><br>下付き文字<sub>これが下付き文字です </sub>続けて上付き文字<sup>これが上付き文字です</sup><br><br><a href=\"https://google.com\" target=\"_blank\" rel=\"noopener noreferrer\">これはリンクです。</a><br></p><h3 id=\"hf883596eaa\">見出し３ YouTube を<s>埋め込みました</s> <s>やっぱりやめました。</s>再開しました。</h3><div class=\"iframe-wrapper\"><iframe class=\"embedly-embed\" src=\"https://cdn.embedly.com/widgets/media.html?src=https%3A%2F%2Fwww.youtube.com%2Fembed%2FWYjwyyw2EpQ%3Ffeature%3Doembed&#x26;display_name=YouTube&#x26;url=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DWYjwyyw2EpQ&#x26;image=https%3A%2F%2Fi.ytimg.com%2Fvi%2FWYjwyyw2EpQ%2Fhqdefault.jpg&#x26;key=d640a20a3b02484e94b4b0a08440f627&#x26;type=text%2Fhtml&#x26;schema=youtube\" width=\"560\" height=\"315\" scrolling=\"no\" title=\"YouTube embed\" frameborder=\"0\" allow=\"autoplay; fullscreen\" allowfullscreen></iframe></div><p><br></p><h4 id=\"hebe6ca29d8\">見出し４ 以下はコードブロックです。</h4><pre><code class=\"language-javascript\">  let childImageSharp = {}\n  allMicrocmsPosts.edges.forEach(({ node }) => {\n    'images' in node.fields &#x26;&#x26;\n      node.fields.images.forEach(image => {\n        if ('url' in image &#x26;&#x26; image.url === src) {\n          childImageSharp = image.localFile.childImageSharp\n        }\n      })\n  })</code></pre><p><br>言語を指定しないコードブロック</p><pre><code class=\"language-none\">let childImageSharp = {}\n  allMicrocmsPosts.edges.forEach(({ node }) => {\n    'images' in node.fields &#x26;&#x26;\n      node.fields.images.forEach(image => {\n        if ('url' in image &#x26;&#x26; image.url === src) {\n          childImageSharp = image.localFile.childImageSharp\n        }\n      })\n  })</code></pre><p><br>Go</p><pre><code class=\"language-go\">package main\n\nimport (\n    \"fmt\"\n    _ \"time\"\n)\n\nfunc sayworld(s string) {\n    for i := 0; i &#x3C; 5; i++ {\n        // time.Sleep(100 * time.Millisecond)\n        fmt.Println(s)\n    }\n}\n\nfunc sayhello(s string) {\n    for i := 0; i &#x3C; 5; i++ {\n        // time.Sleep(100 * time.Millisecond)\n        fmt.Println(s)\n    }\n}\n\nfunc main() {\n    //sayworldを別スレッドで同時実行\n    go sayworld(\"world\")\n    sayhello(\"hello\")\n}</code></pre><p>---<br></p><h2 id=\"h8d027c8ed3\">はじめに</h2><p>最近プロジェクトでウェブサイトのリニューアルを行っています。<br>その中で、 <code>&#x3C;a>&#x3C;div>...&#x3C;/div>&#x3C;/a></code> のように、<code>&#x3C;a></code> の中に <code>&#x3C;div></code> が入っているソースがありました。<br><br>インライン要素の中にブロックレベル要素を入れるのってダメじゃん。。と思ったのですが、<br>そういえば HTML5 からはインライン、ブロックレベルという分け方は無くなったと聞いたことがあります。<br><br>そこで調べてみたところ、思いのほかヘビーな仕様に変わっていました。<br>ここでは <code>&#x3C;a>&#x3C;div>...&#x3C;/div>&#x3C;/a></code> の是非とその理由ついて記載します。<br></p><h2 id=\"h2292242dac\">結論：HTML5 では条件付きで OK</h2><p>HTML5 では親要素によっては<code>&#x3C;a></code> に <code>&#x3C;div></code> を入れることができます。<br>例えば <code>&#x3C;div></code> <code>&#x3C;section></code> <code>&#x3C;article></code> などを親に持っている場合は `&#x3C;a>` に `&#x3C;div>` を入れることができます。<br><br>どのような要素を入れることができるのか知るためには、HTML5 でどのように要素が扱われているかを知る必要があります。<br></p><h2 id=\"h9587b2fad0\">HTML5 の要素の扱い</h2><h3 id=\"h0ba48f1283\">HTML4 では2種類</h3><p>HTML4 では要素は<strong>インライン要素</strong>と<strong>ブロックレベル要素</strong>に分類されていました。<br><br>インライン要素の中にブロックレベル要素を含めることはできないので、<br>`&#x3C;a>&#x3C;div>...&#x3C;/div>&#x3C;/a>` は明確にルール違反です。<br></p><h3 id=\"hef2c8c0a7a\">HTML5 ではカテゴリーに分類</h3><h4 id=\"h4afe3c3662\">コンテンツカテゴリ</h4><p>次バージョンの HTML5 では、インライン要素とブロックレベル要素という分類が無くなりました。<br>代わりに要素は**コンテンツカテゴリ**と呼ばれるものに分類されます。<br><br>主に以下のカテゴリが存在します。<br></p><ul><li>メタデータコンテンツ Metadata content</li><li>フローコンテンツ Flow content</li><li>区分コンテンツ Sectioning content</li><li>見出しコンテンツ Heading content</li><li>記述コンテンツ Phrasing content</li><li>埋め込みコンテンツ Embedded content</li><li>インタラクティブコンテンツ Interactive content</li></ul><p><br>すべての要素は１つ以上のコンテンツカテゴリに所属しています。<br><br>例えば `&#x3C;div>` はフローコンテンツに分類されます。<br>また、`&#x3C;h1>` はフローコンテンツと見出しコンテンツに分類されます。<br><br>コンテンツカテゴリは要素を分類するだけではなく、その要素が存在できる場所を表す場合にも利用します。<br>例えば `&#x3C;p>` はフローコンテンツを親に持つことができ、記述コンテンツを子孫に持つことができます。<br><br>コンテンツカテゴリの詳細は <a href=\"https://html.spec.whatwg.org/multipage/dom.html#kinds-of-content\" target=\"_blank\" rel=\"noopener noreferrer\">HTML Standard</a> にあります。Kinds of content の図を見るとカテゴリー間の関係がわかりやすいです。<br><br>すでにインライン、ブロックレベルの2種類しかなかった頃にくらべてだいぶ複雑になったのがわかります。。😇<br></p><h4 id=\"h35104c471e\">コンテンツモデル</h4><p>自身のコンテンツカテゴリや、親や子孫に持てるコンテンツカテゴリなどをまとめて**コンテンツモデル**と呼びます。<br><br>例えば `&#x3C;p>` はフローコンテンツに所属していて、子要素には記述コンテンツを持つことができます。<br>これらをまとめて `&#x3C;p>` のコンテンツモデルと呼びます。<br><br>また、コンテンツモデルは「持つ」と表現することがあります。<br>例えば、`&#x3C;pre>` は `&#x3C;p>` と似たコンテンツモデルを持つ、などと表現します。<br></p><h4 id=\"h99a2185135\">透過的コンテンツモデル</h4><p>ここで１つ特殊なコンテンツモデルを紹介します。<br><strong>透過的コンテンツモデル (transparent content model)</strong>というものです。<br><br>透過的コンテンツモデルは<strong>親要素のコンテンツモデルを引き継ぐ</strong>特殊なコンテンツモデルです。<br><br>この透過的コンテンツモデルがポイントになります。<br>`&#x3C;a>` は透過的コンテンツモデルを持つ要素なのです。<br><br>ｺ ﾝ ﾃ ﾝ ﾂ ﾓ ﾃﾞ ﾙ がゲシュタルト崩壊してきましたが、ついに本題に入る準備が整いました！！<br><br></p><h2 id=\"h4ceec0b307\">`&#x3C;a>` に `&#x3C;div>` を入れていい条件</h2><p>`&#x3C;a>` は透過的コンテンツモデルを持っているので、親のコンテンツモデルを引き継ぎます。<br><br>`&#x3C;p>` を親に持つ `&#x3C;a>` は `&#x3C;p>` と同じコンテンツモデルとなるということです。<br>その結果、`&#x3C;p>` が子孫に持てる要素は `&#x3C;a>` も子孫に持てるようになります。<br><br>つまり、`&#x3C;a>` に `&#x3C;div>` を入れていい条件とは、**`&#x3C;a>` の親要素が `&#x3C;div>` を子孫に持てること**です。<br><br>もう少し抽象的な言い方をすると、<br>`&#x3C;a>` の親要素のコンテンツモデルで、子孫に持てるとされているコンテンツモデルを持つ要素は `&#x3C;a>` に入れることができます。<br><br></p>"}}},"pageContext":{"postsId":"i10snupyf3k","previous":{"postsId":"azawisr9i","title":"2 結婚指輪を鎌倉で作ってきました","localImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#d8a888","images":{"fallback":{"src":"/static/e4d54c4eca177d580b6802d5805fe80a/3a899/IMGP8121.jpg","srcSet":"/static/e4d54c4eca177d580b6802d5805fe80a/53c59/IMGP8121.jpg 750w,\n/static/e4d54c4eca177d580b6802d5805fe80a/7d544/IMGP8121.jpg 1080w,\n/static/e4d54c4eca177d580b6802d5805fe80a/e7538/IMGP8121.jpg 1366w,\n/static/e4d54c4eca177d580b6802d5805fe80a/3a899/IMGP8121.jpg 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/e4d54c4eca177d580b6802d5805fe80a/3970f/IMGP8121.webp 750w,\n/static/e4d54c4eca177d580b6802d5805fe80a/80634/IMGP8121.webp 1080w,\n/static/e4d54c4eca177d580b6802d5805fe80a/e175f/IMGP8121.webp 1366w,\n/static/e4d54c4eca177d580b6802d5805fe80a/2fc3f/IMGP8121.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6651041666666666}}},"createdAt":"2021-05-04T08:49:07.314Z"},"next":{"postsId":"vy2tnxxuhx83","title":"自動デプロイのテスト","localImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fullWidth","backgroundColor":"#d8a888","images":{"fallback":{"src":"/static/e4d54c4eca177d580b6802d5805fe80a/3a899/IMGP8121.jpg","srcSet":"/static/e4d54c4eca177d580b6802d5805fe80a/53c59/IMGP8121.jpg 750w,\n/static/e4d54c4eca177d580b6802d5805fe80a/7d544/IMGP8121.jpg 1080w,\n/static/e4d54c4eca177d580b6802d5805fe80a/e7538/IMGP8121.jpg 1366w,\n/static/e4d54c4eca177d580b6802d5805fe80a/3a899/IMGP8121.jpg 1920w","sizes":"100vw"},"sources":[{"srcSet":"/static/e4d54c4eca177d580b6802d5805fe80a/3970f/IMGP8121.webp 750w,\n/static/e4d54c4eca177d580b6802d5805fe80a/80634/IMGP8121.webp 1080w,\n/static/e4d54c4eca177d580b6802d5805fe80a/e175f/IMGP8121.webp 1366w,\n/static/e4d54c4eca177d580b6802d5805fe80a/2fc3f/IMGP8121.webp 1920w","type":"image/webp","sizes":"100vw"}]},"width":1,"height":0.6651041666666666}}},"createdAt":"2021-06-07T10:59:27.283Z"}}},"staticQueryHashes":["1800391150","2368908723","3078789376","3848813638"]}